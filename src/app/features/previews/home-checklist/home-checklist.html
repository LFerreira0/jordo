<div class="checklist-card">
  <header class="card-header">
    <h3>Tarefas do dia</h3>

    <span class="counter">
      {{ doneCount }} / {{ totalCount }} feitos hoje
    </span>
  </header>

  <div class="input-row">
    <input
      type="text"
      placeholder="Novo item..."
      [(ngModel)]="newItem"
      (keydown.enter)="addItem()"
    />
    <button class="add-btn" (click)="addItem()">+</button>
  </div>

  <ul
    class="checklist"
    [class.collapsed]="!expanded && items.length > maxVisibleItems"
  >
    <li *ngFor="let item of visibleItems; let i = index">
      <label class="item">
        <input
          type="checkbox"
          [checked]="item.doneToday"
          (change)="toggle(item)"
        />

        <span class="checkbox"></span>

        <span class="text" [class.done]="item.doneToday">
          {{ item.text }}
        </span>
      </label>

      <div class="right">
        <span class="streak" *ngIf="item.streak > 0">
          ðŸ”¥ {{ item.streak }}
        </span>

        <button class="remove-btn" (click)="removeItem(i)">âœ•</button>
      </div>
    </li>
  </ul>

  <button
    *ngIf="items.length > maxVisibleItems"
    class="expand-btn"
    (click)="toggleExpand()"
  >
    {{ expanded ? 'Ver menos' : 'Ver mais' }}
  </button>

  <button class="go-full-btn">
    Ver checklist completo â†’
  </button>
</div>
